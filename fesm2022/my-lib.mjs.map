{"version":3,"file":"my-lib.mjs","sources":["../../../projects/my-lib/src/lib/hello/hello.component.ts","../../../projects/my-lib/src/lib/hello/hello.component.html","../../../projects/my-lib/src/lib/services/factory.service.ts","../../../projects/my-lib/src/lib/my-lib.module.ts","../../../projects/my-lib/src/public-api.ts","../../../projects/my-lib/src/my-lib.ts"],"sourcesContent":["import { Component, Input } from '@angular/core';\r\n// core version + navigation, pagination modules:\r\nimport Swiper from 'swiper';\r\nimport { Navigation, Pagination } from 'swiper/modules';\r\nimport axios from 'axios';\r\n\r\nexport interface WidgetSettings {\r\n  elementId: string;\r\n  widgetId: string;\r\n  version: string;\r\n  config: object | null;\r\n}\r\n\r\n@Component({\r\n  selector: 'lib-hello',\r\n  templateUrl: './hello.component.html',\r\n  styles: []\r\n})\r\nexport class HelloComponent {\r\n  @Input() name: string = '';\r\n  @Input() widgetSettings: WidgetSettings = {\r\n    elementId: '',\r\n    widgetId: '',\r\n    version: '',\r\n    config: null\r\n  };\r\n\r\n  ngOnInit() {\r\n    // init Swiper:\r\n    const swiper = new Swiper('.swiper', {\r\n      // configure Swiper to use modules\r\n      modules: [Navigation, Pagination],\r\n    });\r\n    console.log(swiper);\r\n    axios.get('https://jsonplaceholder.typicode.com/users')\r\n      .then((response: any) => {\r\n        // Успешный ответ: выведем список пользователей\r\n        console.log('Список пользователей:', response.data);\r\n      })\r\n      .catch((error: any) => {\r\n        // Обработка ошибок\r\n        console.error('Произошла ошибка при запросе:', error);\r\n      });\r\n  }\r\n\r\n  public postHelloMessage() {\r\n    (parent || window).postMessage(JSON.stringify({\r\n      event: \"promotions\",\r\n      data: {},\r\n      requestId: '00-575d6b495c1355ec5bf66ae432b601ef-2b0d7c6e513397e2-01',\r\n      action: 'promise'\r\n    }), '*');\r\n  }\r\n}","<p>hello works! {{ name }}</p>\r\n<button (click)=\"postHelloMessage()\">Send message</button>\r\n<div>\r\n  <h2>Widget: {{ widgetSettings.widgetId }}</h2>\r\n  <p>Element ID: {{ widgetSettings.elementId }}</p>\r\n  <p>Version: {{ widgetSettings.version }}</p>\r\n  <pre>Config: {{ widgetSettings.config }}</pre>\r\n</div>\r\n","import { Injectable, Type } from '@angular/core';\r\nimport { HelloComponent, WidgetSettings } from '../hello/hello.component';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FactoryService {\r\n  private PAGE_WITH_TEMPLATE_WIDGETS: Record<\r\n    string,\r\n    Record<string, Type<any>>\r\n  > = {\r\n    'Vadzim.Echo': {\r\n      '1.0': HelloComponent,\r\n    },\r\n  };\r\n\r\n\r\n  public getWidgetComponentType(widgetSettings: WidgetSettings): Type<any> | null {\r\n    return this.PAGE_WITH_TEMPLATE_WIDGETS[widgetSettings.widgetId]?.[widgetSettings.version];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { HelloComponent } from './hello/hello.component';\r\nimport { FactoryService } from './services/factory.service';\r\n\r\n@NgModule({\r\n  providers: [FactoryService],\r\n  declarations: [HelloComponent],\r\n  imports: [],\r\n  exports: [HelloComponent]\r\n})\r\nexport class MyLibModule {}\r\n","/*\r\n * Public API Surface of my-lib\r\n */\r\n// export * from 'swiper/swiper.css';\r\n// export * from 'swiper/modules/navigation/navigation.css';\r\n// export * from 'swiper/modules/pagination/pagination.css';\r\n\r\nexport * from './lib/hello/hello.component';\r\nexport * from './lib/my-lib.module';\r\nexport * from './lib/services/factory.service';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}